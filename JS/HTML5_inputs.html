<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>New HTML5 inputs</title>
<style>
input{
	margin:6px auto;
}
</style>
</head>
<body>
<form id="user-form" action="#" method="post" enctype="text/plain">
<!--Email:      <input type="email" id="emailField" required> <br>
Tel:        <input type="tel" id="phoneField" required> <br>-->
Password:   <input type="password" id="password1" required> <br>
Password2:  <input type="password" id="password2" required><br> <input type="submit" value="Send!"> </form>
<script>
(function(){
	if(!document.createElement('input').setCustomValidity){return;}
	var pass1=document.getElementById('password1');
	var pass2 = document.getElementById('password2');
	function validateForm(){
	
		var pass1=document.getElementById('password1');
	
		var pass1Val=pass1.value;
		var pass2Val=pass2.value;
	
		if(pass1Val&&pass2Val&&(pass1Val!=pass2Val)){
			pass2.setCustomValidity("The password  confirmation is different to the password value");
			return false;
		}else 
			pass2.setCustomValidity("");       
	}
	
	if(pass1 && pass2){
		pass1.addEventListener('change', validateForm, false);
		pass2.addEventListener('change', validateForm, false);	
		return validateForm();
	}else { 
		pass2.setCustomValidity(""); 
	}
})();

</script>
</body>
</html>
